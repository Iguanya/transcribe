
<nav class="sidebar">
    <h2></i> <span>Audiolyze</span></h2>
    <ul>
        <li><a href="/" {% if request.path == '/' %}class="active"{% endif %}>
            <i class="fas fa-home"></i> <span>Home</span>
        </a></li>

        <li><a href="/upload_audio" {% if request.path == '/upload_audio' %}class="active"{% endif %}>
            <i class="fas fa-upload"></i> <span>Upload Audio</span>
        </a></li>

        <li><a href="/live" {% if request.path == '/live' %}class="active"{% endif %}>
            <i class="fas fa-broadcast-tower"></i> <span>Live Transcribe</span>
        </a></li>

        <li><a href="/history" {% if request.path == '/history' %}class="active"{% endif %}>
            <i class="fas fa-history"></i> <span>History</span>
        </a></li>

        <li><a href="/settings" {% if request.path == '/settings' %}class="active"{% endif %}>
            <i class="fas fa-cog"></i> <span>Settings</span>
        </a></li>

    </ul>

        <div class="sidebar-footer">
        <a href="/help" {% if request.path == '/help' %}class="active"{% endif %}>
            <i class="fas fa-question-circle"></i> <span>Help</span>
        </a>
    </div>
</nav>

<!-- Optional: Toggle button for sidebar collapse (place outside the sidebar) -->
<button id="sidebarToggle" class="sidebar-toggle">
    <i class="fas fa-bars"></i>
</button>

<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function () {
        const sidebarToggle = document.getElementById('sidebarToggle');
        const sidebar = document.querySelector('.sidebar');
        const icon = sidebarToggle.querySelector('i');

        function updateIcon(isCollapsed) {
            if (isCollapsed) {
                icon.classList.remove('fa-xmark');
                icon.classList.add('fa-bars');
            } else {
                icon.classList.remove('fa-bars');
                icon.classList.add('fa-xmark');
            }
        }

        if (sidebarToggle && sidebar) {
            // Restore sidebar state
            const wasCollapsed = localStorage.getItem('sidebarCollapsed') === 'true';
            if (wasCollapsed) {
                sidebar.classList.add('collapsed');
            }

            updateIcon(wasCollapsed);

            sidebarToggle.addEventListener('click', function () {
                sidebar.classList.toggle('collapsed');
                const isCollapsed = sidebar.classList.contains('collapsed');
                localStorage.setItem('sidebarCollapsed', isCollapsed);
                updateIcon(isCollapsed);
            });
        }
    });
</script>
